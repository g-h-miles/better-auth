"use strict";var go=Object.defineProperty;var ui=Object.getOwnPropertyDescriptor;var pi=Object.getOwnPropertyNames;var fi=Object.prototype.hasOwnProperty;var s=(o,e)=>go(o,"name",{value:e,configurable:!0});var mi=(o,e)=>{for(var i in e)go(o,i,{get:e[i],enumerable:!0})},Ci=(o,e,i,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of pi(e))!fi.call(o,r)&&r!==i&&go(o,r,{get:()=>e[r],enumerable:!(t=ui(e,r))||t.enumerable});return o};var hi=o=>Ci(go({},"__esModule",{value:!0}),o);var Gi={};mi(Gi,{openAPI:()=>Zi});module.exports=hi(Gi);var z=require("zod");var H=s((o,e="ms")=>new Date(Date.now()+(e==="sec"?o*1e3:o)),"getDate");var m=require("zod"),jo=require("better-call");var Yi=m.z.object({id:m.z.string(),providerId:m.z.string(),accountId:m.z.string(),userId:m.z.string(),accessToken:m.z.string().nullish(),refreshToken:m.z.string().nullish(),idToken:m.z.string().nullish(),accessTokenExpiresAt:m.z.date().nullish(),refreshTokenExpiresAt:m.z.date().nullish(),scope:m.z.string().nullish(),password:m.z.string().nullish(),createdAt:m.z.date().default(()=>new Date),updatedAt:m.z.date().default(()=>new Date)}),ot=m.z.object({id:m.z.string(),email:m.z.string().transform(o=>o.toLowerCase()),emailVerified:m.z.boolean().default(!1),name:m.z.string(),image:m.z.string().nullish(),createdAt:m.z.date().default(()=>new Date),updatedAt:m.z.date().default(()=>new Date)}),et=m.z.object({id:m.z.string(),userId:m.z.string(),expiresAt:m.z.date(),createdAt:m.z.date().default(()=>new Date),updatedAt:m.z.date().default(()=>new Date),token:m.z.string(),ipAddress:m.z.string().nullish(),userAgent:m.z.string().nullish()}),it=m.z.object({id:m.z.string(),value:m.z.string(),createdAt:m.z.date().default(()=>new Date),updatedAt:m.z.date().default(()=>new Date),expiresAt:m.z.date(),identifier:m.z.string()});function yi(o,e){let i={...e==="user"?o.user?.additionalFields:{},...e==="session"?o.session?.additionalFields:{}};for(let t of o.plugins||[])t.schema&&t.schema[e]&&(i={...i,...t.schema[e].fields});return i}s(yi,"getAllFields");function wi(o,e){let i=e.action||"create",t=e.fields,r={};for(let n in t){if(n in o){if(t[n].input===!1){if(t[n].defaultValue){r[n]=t[n].defaultValue;continue}continue}if(t[n].validator?.input&&o[n]!==void 0){r[n]=t[n].validator.input.parse(o[n]);continue}if(t[n].transform?.input&&o[n]!==void 0){r[n]=t[n].transform?.input(o[n]);continue}r[n]=o[n];continue}if(t[n].defaultValue&&i==="create"){r[n]=t[n].defaultValue;continue}if(t[n].required&&i==="create")throw new jo.APIError("BAD_REQUEST",{message:`${n} is required`})}return r}s(wi,"parseInputData");function lo(o,e,i){let t=yi(o,"user");return wi(e||{},{fields:t,action:i})}s(lo,"parseUserInput");var uo=Object.create(null),no=s(o=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(o?uo:globalThis),"_getEnv"),Mo=new Proxy(uo,{get(o,e){return no()[e]??uo[e]},has(o,e){let i=no();return e in i||e in uo},set(o,e,i){let t=no(!0);return t[e]=i,!0},deleteProperty(o,e){if(!e)return!1;let i=no(!0);return delete i[e],!0},ownKeys(){let o=no(!0);return Object.keys(o)}});function bi(o){return o?o!=="false":!1}s(bi,"toBoolean");var bo=typeof process<"u"&&process.env&&process.env.NODE_ENV||"";var po=bo==="dev"||bo==="development",Ri=bo==="test"||bi(Mo.TEST);function Ro(o){try{return JSON.parse(o)}catch{return null}}s(Ro,"safeJSONParse");var Y={isAction:!1};var Vo=require("@better-auth/utils/random");var so=s(o=>(0,Vo.createRandomStringGenerator)("a-z","A-Z","0-9")(o||32),"generateId");var B=require("zod"),To=require("better-call");var Q=class extends Error{static{s(this,"BetterAuthError")}constructor(e,i){super(e),this.name="BetterAuthError",this.message=e,this.cause=i,this.stack=""}};function qo(o){try{return new URL(o).origin}catch{return null}}s(qo,"getOrigin");function zo(o){return o.includes("://")?new URL(o).host:o}s(zo,"getHost");var Ui=require("@better-auth/utils/hash"),Ei=require("@noble/ciphers/chacha"),ko=require("@noble/ciphers/utils"),Oi=require("@noble/ciphers/webcrypto");var ki=require("@noble/hashes/scrypt"),Ti=require("uncrypto"),vi=require("@better-auth/utils/hex");var Ho=require("@better-auth/utils/random"),ao=(0,Ho.createRandomStringGenerator)("a-z","0-9","A-Z","-_");async function fo(o,e){let i=o.body?.callbackURL||(o.query?.currentURL?qo(o.query?.currentURL):"")||o.context.options.baseURL;if(!i)throw new To.APIError("BAD_REQUEST",{message:"callbackURL is required"});let t=ao(128),r=ao(32),n=JSON.stringify({callbackURL:i,codeVerifier:t,errorURL:o.body?.errorCallbackURL||o.query?.currentURL,newUserURL:o.body?.newUserCallbackURL,link:e,expiresAt:Date.now()+10*60*1e3}),A=new Date;A.setMinutes(A.getMinutes()+10);let K=await o.context.internalAdapter.createVerificationValue({value:n,identifier:r,expiresAt:A});if(!K)throw o.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new To.APIError("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:K.identifier,codeVerifier:t}}s(fo,"generateState");async function Qo(o){let e=o.query.state||o.body.state,i=await o.context.internalAdapter.findVerificationValue(e);if(!i)throw o.context.logger.error("State Mismatch. Verification not found",{state:e}),o.redirect(`${o.context.baseURL}/error?error=please_restart_the_process`);let t=B.z.object({callbackURL:B.z.string(),codeVerifier:B.z.string(),errorURL:B.z.string().optional(),newUserURL:B.z.string().optional(),expiresAt:B.z.number(),link:B.z.object({email:B.z.string(),userId:B.z.string()}).optional()}).parse(JSON.parse(i.value));if(t.errorURL||(t.errorURL=`${o.context.baseURL}/error`),t.expiresAt<Date.now())throw await o.context.internalAdapter.deleteVerificationValue(i.id),o.context.logger.error("State expired.",{state:e}),o.redirect(`${o.context.baseURL}/error?error=please_restart_the_process`);return await o.context.internalAdapter.deleteVerificationValue(i.id),t}s(Qo,"parseState");var vo=["info","success","warn","error","debug"];function Pi(o,e){return vo.indexOf(e)<=vo.indexOf(o)}s(Pi,"shouldPublishLog");var F={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",underscore:"\x1B[4m",blink:"\x1B[5m",reverse:"\x1B[7m",hidden:"\x1B[8m",fg:{black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"},bg:{black:"\x1B[40m",red:"\x1B[41m",green:"\x1B[42m",yellow:"\x1B[43m",blue:"\x1B[44m",magenta:"\x1B[45m",cyan:"\x1B[46m",white:"\x1B[47m"}},xi={info:F.fg.blue,success:F.fg.green,warn:F.fg.yellow,error:F.fg.red,debug:F.fg.magenta},Di=s((o,e)=>{let i=new Date().toISOString();return`${F.dim}${i}${F.reset} ${xi[o]}${o.toUpperCase()}${F.reset} ${F.bright}Better Auth${F.reset} ${e}`},"formatMessage"),$o=s(o=>{let e=o?.disabled!==!0,i=o?.level??"error",t=s((r,n,A=[])=>{if(!e||!Pi(i,r))return;let K=Di(r,n);if(!o||typeof o.log!="function"){r==="error"?console.error(K,...A):r==="warn"?console.warn(K,...A):console.log(K,...A);return}o.log(r==="success"?"info":r,K,...A)},"LogFunc");return Object.fromEntries(vo.map(r=>[r,(...[n,...A])=>t(r,n,A)]))},"createLogger"),_=$o();var oo=s(o=>{let e=o.plugins?.reduce((a,d)=>{let g=d.schema;if(!g)return a;for(let[f,l]of Object.entries(g))a[f]={fields:{...a[f]?.fields,...l.fields},modelName:l.modelName||f};return a},{}),i=o.rateLimit?.storage==="database",t={rateLimit:{modelName:o.rateLimit?.modelName||"rateLimit",fields:{key:{type:"string",fieldName:o.rateLimit?.fields?.key||"key"},count:{type:"number",fieldName:o.rateLimit?.fields?.count||"count"},lastRequest:{type:"number",fieldName:o.rateLimit?.fields?.lastRequest||"lastRequest"}}}},{user:r,session:n,account:A,...K}=e||{};return{user:{modelName:o.user?.modelName||"user",fields:{name:{type:"string",required:!0,fieldName:o.user?.fields?.name||"name"},email:{type:"string",unique:!0,required:!0,fieldName:o.user?.fields?.email||"email"},emailVerified:{type:"boolean",defaultValue:s(()=>!1,"defaultValue"),required:!0,fieldName:o.user?.fields?.emailVerified||"emailVerified"},image:{type:"string",required:!1,fieldName:o.user?.fields?.image||"image"},createdAt:{type:"date",defaultValue:s(()=>new Date,"defaultValue"),required:!0,fieldName:o.user?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",defaultValue:s(()=>new Date,"defaultValue"),required:!0,fieldName:o.user?.fields?.updatedAt||"updatedAt"},...r?.fields,...o.user?.additionalFields},order:1},session:{modelName:o.session?.modelName||"session",fields:{expiresAt:{type:"date",required:!0,fieldName:o.session?.fields?.expiresAt||"expiresAt"},token:{type:"string",required:!0,fieldName:o.session?.fields?.token||"token",unique:!0},createdAt:{type:"date",required:!0,fieldName:o.session?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,fieldName:o.session?.fields?.updatedAt||"updatedAt"},ipAddress:{type:"string",required:!1,fieldName:o.session?.fields?.ipAddress||"ipAddress"},userAgent:{type:"string",required:!1,fieldName:o.session?.fields?.userAgent||"userAgent"},userId:{type:"string",fieldName:o.session?.fields?.userId||"userId",references:{model:o.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0},...n?.fields,...o.session?.additionalFields},order:2},account:{modelName:o.account?.modelName||"account",fields:{accountId:{type:"string",required:!0,fieldName:o.account?.fields?.accountId||"accountId"},providerId:{type:"string",required:!0,fieldName:o.account?.fields?.providerId||"providerId"},userId:{type:"string",references:{model:o.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0,fieldName:o.account?.fields?.userId||"userId"},accessToken:{type:"string",required:!1,fieldName:o.account?.fields?.accessToken||"accessToken"},refreshToken:{type:"string",required:!1,fieldName:o.account?.fields?.refreshToken||"refreshToken"},idToken:{type:"string",required:!1,fieldName:o.account?.fields?.idToken||"idToken"},accessTokenExpiresAt:{type:"date",required:!1,fieldName:o.account?.fields?.accessTokenExpiresAt||"accessTokenExpiresAt"},refreshTokenExpiresAt:{type:"date",required:!1,fieldName:o.account?.fields?.accessTokenExpiresAt||"refreshTokenExpiresAt"},scope:{type:"string",required:!1,fieldName:o.account?.fields?.scope||"scope"},password:{type:"string",required:!1,fieldName:o.account?.fields?.password||"password"},createdAt:{type:"date",required:!0,fieldName:o.account?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,fieldName:o.account?.fields?.updatedAt||"updatedAt"},...A?.fields},order:3},verification:{modelName:o.verification?.modelName||"verification",fields:{identifier:{type:"string",required:!0,fieldName:o.verification?.fields?.identifier||"identifier"},value:{type:"string",required:!0,fieldName:o.verification?.fields?.value||"value"},expiresAt:{type:"date",required:!0,fieldName:o.verification?.fields?.expiresAt||"expiresAt"},createdAt:{type:"date",required:!1,defaultValue:s(()=>new Date,"defaultValue"),fieldName:o.verification?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!1,defaultValue:s(()=>new Date,"defaultValue"),fieldName:o.verification?.fields?.updatedAt||"updatedAt"}},order:4},...K,...i?t:{}}},"getAuthTables");var Si=require("zod");var Zo=require("kysely"),Uo=require("kysely");var P=require("better-call");var Xo=require("better-call");var W=require("better-call"),Go=(0,W.createMiddleware)(async()=>({})),Ao=(0,W.createMiddlewareCreator)({use:[Go,(0,W.createMiddleware)(async()=>({}))]}),C=(0,W.createEndpointCreator)({use:[Go]});function Eo(o){return o==="-"||o==="^"||o==="$"||o==="+"||o==="."||o==="("||o===")"||o==="|"||o==="["||o==="]"||o==="{"||o==="}"||o==="*"||o==="?"||o==="\\"?`\\${o}`:o}s(Eo,"escapeRegExpChar");function Ni(o){let e="";for(let i=0;i<o.length;i++)e+=Eo(o[i]);return e}s(Ni,"escapeRegExpString");function Wo(o,e=!0){if(Array.isArray(o))return`(?:${o.map(g=>`^${Wo(g,e)}$`).join("|")})`;let i="",t="",r=".";e===!0?(i="/",t="[/\\\\]",r="[^/\\\\]"):e&&(i=e,t=Ni(i),t.length>1?(t=`(?:${t})`,r=`((?!${t}).)`):r=`[^${t}]`);let n=e?`${t}+?`:"",A=e?`${t}*?`:"",K=e?o.split(i):[o],a="";for(let d=0;d<K.length;d++){let g=K[d],f=K[d+1],l="";if(!(!g&&d>0)){if(e&&(d===K.length-1?l=A:f!=="**"?l=n:l=""),e&&g==="**"){l&&(a+=d===0?"":l,a+=`(?:${r}*?${l})*?`);continue}for(let c=0;c<g.length;c++){let y=g[c];y==="\\"?c<g.length-1&&(a+=Eo(g[c+1]),c++):y==="?"?a+=r:y==="*"?a+=`${r}*?`:a+=Eo(y)}a+=l}}return a}s(Wo,"transform");function Bi(o,e){if(typeof e!="string")throw new TypeError(`Sample must be a string, but ${typeof e} given`);return o.test(e)}s(Bi,"isMatch");function Oo(o,e){if(typeof o!="string"&&!Array.isArray(o))throw new TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof o} given`);if((typeof e=="string"||typeof e=="boolean")&&(e={separator:e}),arguments.length===2&&!(typeof e>"u"||typeof e=="object"&&e!==null&&!Array.isArray(e)))throw new TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof e} given`);if(e=e||{},e.separator==="\\")throw new Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let i=Wo(o,e.separator),t=new RegExp(`^${i}$`,e.flags),r=Bi.bind(null,t);return r.options=e,r.pattern=o,r.regexp=t,r}s(Oo,"wildcardMatch");var Fi=Ao(async o=>{if(o.request?.method!=="POST")return;let{body:e,query:i,context:t}=o,r=o.headers?.get("origin")||o.headers?.get("referer")||"",n=e?.callbackURL||i?.callbackURL,A=e?.redirectTo,K=i?.currentURL,a=e?.errorCallbackURL,d=e?.newUserCallbackURL,g=t.trustedOrigins,f=o.headers?.has("cookie"),l=s((y,T)=>y.startsWith("/")?!1:T.includes("*")?Oo(T)(zo(y)):y.startsWith(T),"matchesPattern"),c=s((y,T)=>{if(!y)return;if(!g.some($=>l(y,$)||y?.startsWith("/")&&T!=="origin"&&!y.includes(":")))throw o.context.logger.error(`Invalid ${T}: ${y}`),o.context.logger.info(`If it's a valid URL, please add ${y} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${g}`),new Xo.APIError("FORBIDDEN",{message:`Invalid ${T}`})},"validateURL");f&&!o.context.options.advanced?.disableCSRFCheck&&c(r,"origin"),n&&c(n,"callbackURL"),A&&c(A,"redirectURL"),K&&c(K,"currentURL"),a&&c(a,"errorCallbackURL"),d&&c(A,"newUserCallbackURL")});var O=require("better-call"),v=require("zod");var Jo=require("@better-auth/utils/base64");var Yo=require("@better-auth/utils/hmac");async function Po(o,e){if(o.context.options.session?.cookieCache?.enabled){let t=Jo.base64Url.encode(JSON.stringify({session:e,expiresAt:H(o.context.authCookies.sessionData.options.maxAge||60,"sec").getTime(),signature:await(0,Yo.createHMAC)("SHA-256","base64urlnopad").sign(o.context.secret,JSON.stringify(e))}),{padding:!1});if(t.length>4093)throw new Q("Session data is too large to store in the cookie. Please disable session cookie caching or reduce the size of the session data");o.setCookie(o.context.authCookies.sessionData.name,t,o.context.authCookies.sessionData.options)}}s(Po,"setCookieCache");async function x(o,e,i,t){let r=o.context.authCookies.sessionToken.options,n=i?void 0:o.context.sessionConfig.expiresIn;await o.setSignedCookie(o.context.authCookies.sessionToken.name,e.session.token,o.context.secret,{...r,maxAge:n,...t}),i&&await o.setSignedCookie(o.context.authCookies.dontRememberToken.name,"true",o.context.secret,o.context.authCookies.dontRememberToken.options),await Po(o,e),o.context.setNewSession(e),o.context.options.secondaryStorage&&await o.context.secondaryStorage?.set(e.session.token,JSON.stringify({user:e.user,session:e.session}),Math.floor((new Date(e.session.expiresAt).getTime()-Date.now())/1e3))}s(x,"setSessionCookie");function j(o){o.setCookie(o.context.authCookies.sessionToken.name,"",{...o.context.authCookies.sessionToken.options,maxAge:0}),o.setCookie(o.context.authCookies.sessionData.name,"",{...o.context.authCookies.sessionData.options,maxAge:0}),o.setCookie(o.context.authCookies.dontRememberToken.name,"",{...o.context.authCookies.dontRememberToken.options,maxAge:0})}s(j,"deleteSessionCookie");var re=require("@better-fetch/fetch"),ne=require("better-call"),Z=require("jose");var oe=require("@better-auth/utils/hash"),ee=require("@better-auth/utils/base64");async function ie(o){let e=await(0,oe.createHash)("SHA-256").digest(o);return ee.base64Url.encode(new Uint8Array(e),{padding:!1})}s(ie,"generateCodeChallenge");function mo(o){return{tokenType:o.token_type,accessToken:o.access_token,refreshToken:o.refresh_token,accessTokenExpiresAt:o.expires_in?H(o.expires_in,"sec"):void 0,scopes:o?.scope?typeof o.scope=="string"?o.scope.split(" "):o.scope:[],idToken:o.id_token}}s(mo,"getOAuth2Tokens");async function b({id:o,options:e,authorizationEndpoint:i,state:t,codeVerifier:r,scopes:n,claims:A,redirectURI:K,duration:a}){let d=new URL(i);if(d.searchParams.set("response_type","code"),d.searchParams.set("client_id",e.clientId),d.searchParams.set("state",t),d.searchParams.set("scope",n.join(" ")),d.searchParams.set("redirect_uri",e.redirectURI||K),r){let g=await ie(r);d.searchParams.set("code_challenge_method","S256"),d.searchParams.set("code_challenge",g)}if(A){let g=A.reduce((f,l)=>(f[l]=null,f),{});d.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...g}}))}return a&&d.searchParams.set("duration",a),d}s(b,"createAuthorizationURL");var te=require("@better-fetch/fetch");var ji=require("jose");async function w({code:o,codeVerifier:e,redirectURI:i,options:t,tokenEndpoint:r,authentication:n}){let A=new URLSearchParams,K={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth"};if(A.set("grant_type","authorization_code"),A.set("code",o),e&&A.set("code_verifier",e),A.set("redirect_uri",i),n==="basic"){let f=btoa(`${t.clientId}:${t.clientSecret}`);K.authorization=`Basic ${f}`}else A.set("client_id",t.clientId),A.set("client_secret",t.clientSecret);let{data:a,error:d}=await(0,te.betterFetch)(r,{method:"POST",body:A,headers:K});if(d)throw d;return mo(a)}s(w,"validateAuthorizationCode");var se=s(o=>{let e="https://appleid.apple.com/auth/token";return{id:"apple",name:"Apple",createAuthorizationURL({state:i,scopes:t,redirectURI:r}){let n=t||["email","name"];return o.scope&&n.push(...o.scope),new URL(`https://appleid.apple.com/auth/authorize?client_id=${o.clientId}&response_type=code&redirect_uri=${o.redirectURI||r}&scope=${n.join(" ")}&state=${i}&response_mode=form_post`)},validateAuthorizationCode:s(async({code:i,codeVerifier:t,redirectURI:r})=>w({code:i,codeVerifier:t,redirectURI:o.redirectURI||r,options:o,tokenEndpoint:e}),"validateAuthorizationCode"),async verifyIdToken(i,t){if(o.disableIdTokenSignIn)return!1;if(o.verifyIdToken)return o.verifyIdToken(i,t);let r=(0,Z.decodeProtectedHeader)(i),{kid:n,alg:A}=r;if(!n||!A)return!1;let K=await Mi(n),{payload:a}=await(0,Z.jwtVerify)(i,K,{algorithms:[A],issuer:"https://appleid.apple.com",audience:o.appBundleIdentifier||o.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(d=>{a[d]!==void 0&&(a[d]=!!a[d])}),t&&a.nonce!==t?!1:!!a},async getUserInfo(i){if(o.getUserInfo)return o.getUserInfo(i);if(!i.idToken)return null;let t=(0,Z.decodeJwt)(i.idToken);if(!t)return null;let r=t.user?`${t.user.name.firstName} ${t.user.name.lastName}`:t.email,n=await o.mapProfileToUser?.(t);return{user:{id:t.sub,name:r,emailVerified:!1,email:t.email,...n},data:t}}}},"apple"),Mi=s(async o=>{let e="https://appleid.apple.com",i="/auth/keys",{data:t}=await(0,re.betterFetch)(`${e}${i}`);if(!t?.keys)throw new ne.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(n=>n.kid===o);if(!r)throw new Error(`JWK with kid ${o} not found`);return await(0,Z.importJWK)(r,r.alg)},"getApplePublicKey");var ae=require("@better-fetch/fetch");var Ae=s(o=>({id:"discord",name:"Discord",createAuthorizationURL({state:e,scopes:i,redirectURI:t}){let r=i||["identify","email"];return o.scope&&r.push(...o.scope),new URL(`https://discord.com/api/oauth2/authorize?scope=${r.join("+")}&response_type=code&client_id=${o.clientId}&redirect_uri=${encodeURIComponent(o.redirectURI||t)}&state=${e}&prompt=${o.prompt||"none"}`)},validateAuthorizationCode:s(async({code:e,redirectURI:i})=>w({code:e,redirectURI:o.redirectURI||i,options:o,tokenEndpoint:"https://discord.com/api/oauth2/token"}),"validateAuthorizationCode"),async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);let{data:i,error:t}=await(0,ae.betterFetch)("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${e.accessToken}`}});if(t)return null;if(i.avatar===null){let n=i.discriminator==="0"?Number(BigInt(i.id)>>BigInt(22))%6:parseInt(i.discriminator)%5;i.image_url=`https://cdn.discordapp.com/embed/avatars/${n}.png`}else{let n=i.avatar.startsWith("a_")?"gif":"png";i.image_url=`https://cdn.discordapp.com/avatars/${i.id}/${i.avatar}.${n}`}let r=await o.mapProfileToUser?.(i);return{user:{id:i.id,name:i.display_name||i.username||"",email:i.email,emailVerified:i.verified,image:i.image_url,...r},data:i}}}),"discord");var Ke=require("@better-fetch/fetch");var de=s(o=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:e,scopes:i,redirectURI:t}){let r=i||["email","public_profile"];return o.scope&&r.push(...o.scope),await b({id:"facebook",options:o,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:r,state:e,redirectURI:t})},validateAuthorizationCode:s(async({code:e,redirectURI:i})=>w({code:e,redirectURI:o.redirectURI||i,options:o,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),"validateAuthorizationCode"),async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);let{data:i,error:t}=await(0,Ke.betterFetch)("https://graph.facebook.com/me?fields=id,name,email,picture",{auth:{type:"Bearer",token:e.accessToken}});if(t)return null;let r=await o.mapProfileToUser?.(i);return{user:{id:i.id,name:i.name,email:i.email,image:i.picture.data.url,emailVerified:i.email_verified,...r},data:i}}}),"facebook");var xo=require("@better-fetch/fetch");var ce=s(o=>{let e="https://github.com/login/oauth/access_token";return{id:"github",name:"GitHub",createAuthorizationURL({state:i,scopes:t,codeVerifier:r,redirectURI:n}){let A=t||["user:email"];return o.scope&&A.push(...o.scope),b({id:"github",options:o,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:A,state:i,redirectURI:n})},validateAuthorizationCode:s(async({code:i,redirectURI:t})=>w({code:i,redirectURI:o.redirectURI||t,options:o,tokenEndpoint:e}),"validateAuthorizationCode"),async getUserInfo(i){if(o.getUserInfo)return o.getUserInfo(i);let{data:t,error:r}=await(0,xo.betterFetch)("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${i.accessToken}`}});if(r)return null;let n=!1,{data:A}=await(0,xo.betterFetch)("https://api.github.com/user/emails",{headers:{authorization:`Bearer ${i.accessToken}`,"User-Agent":"better-auth"}});A&&(t.email=(A.find(a=>a.primary)??A[0])?.email,n=A.find(a=>a.email===t.email)?.verified??!1);let K=await o.mapProfileToUser?.(t);return{user:{id:t.id.toString(),name:t.name||t.login,email:t.email,image:t.avatar_url,emailVerified:n,...K},data:t}}}},"github");var ge=require("@better-fetch/fetch"),le=require("jose");var ue=s(o=>({id:"google",name:"Google",async createAuthorizationURL({state:e,scopes:i,codeVerifier:t,redirectURI:r}){if(!o.clientId||!o.clientSecret)throw _.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new Q("CLIENT_ID_AND_SECRET_REQUIRED");if(!t)throw new Q("codeVerifier is required for Google");let n=i||["email","profile","openid"];o.scope&&n.push(...o.scope);let A=await b({id:"google",options:o,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:n,state:e,codeVerifier:t,redirectURI:r});return o.accessType&&A.searchParams.set("access_type",o.accessType),o.prompt&&A.searchParams.set("prompt",o.prompt),A},validateAuthorizationCode:s(async({code:e,codeVerifier:i,redirectURI:t})=>w({code:e,codeVerifier:i,redirectURI:o.redirectURI||t,options:o,tokenEndpoint:"https://oauth2.googleapis.com/token"}),"validateAuthorizationCode"),async verifyIdToken(e,i){if(o.disableIdTokenSignIn)return!1;if(o.verifyIdToken)return o.verifyIdToken(e,i);let t=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${e}`,{data:r}=await(0,ge.betterFetch)(t);return r?r.aud===o.clientId&&r.iss==="https://accounts.google.com":!1},async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);if(!e.idToken)return null;let i=(0,le.decodeJwt)(e.idToken),t=await o.mapProfileToUser?.(i);return{user:{id:i.sub,name:i.name,email:i.email,image:i.picture,emailVerified:i.email_verified,...t},data:i}}}),"google");var pe=require("@better-fetch/fetch");var fe=require("jose");var me=s(o=>{let e=o.tenantId||"common",i=`https://login.microsoftonline.com/${e}/oauth2/v2.0/authorize`,t=`https://login.microsoftonline.com/${e}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(r){let n=r.scopes||["openid","profile","email","User.Read"];return o.scope&&n.push(...o.scope),b({id:"microsoft",options:o,authorizationEndpoint:i,state:r.state,codeVerifier:r.codeVerifier,scopes:n,redirectURI:r.redirectURI})},validateAuthorizationCode({code:r,codeVerifier:n,redirectURI:A}){return w({code:r,codeVerifier:n,redirectURI:o.redirectURI||A,options:o,tokenEndpoint:t})},async getUserInfo(r){if(o.getUserInfo)return o.getUserInfo(r);if(!r.idToken)return null;let n=(0,fe.decodeJwt)(r.idToken),A=o.profilePhotoSize||48;await(0,pe.betterFetch)(`https://graph.microsoft.com/v1.0/me/photos/${A}x${A}/$value`,{headers:{Authorization:`Bearer ${r.accessToken}`},async onResponse(a){if(!(o.disableProfilePhoto||!a.response.ok))try{let g=await a.response.clone().arrayBuffer(),f=Buffer.from(g).toString("base64");n.picture=`data:image/jpeg;base64, ${f}`}catch(d){_.error(d&&typeof d=="object"&&"name"in d?d.name:"",d)}}});let K=await o.mapProfileToUser?.(n);return{user:{id:n.sub,name:n.name,email:n.email,image:n.picture,emailVerified:!0,...K},data:n}}}},"microsoft");var Ce=require("@better-fetch/fetch");var he=s(o=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:e,scopes:i,codeVerifier:t,redirectURI:r}){let n=i||["user-read-email"];return o.scope&&n.push(...o.scope),b({id:"spotify",options:o,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:n,state:e,codeVerifier:t,redirectURI:r})},validateAuthorizationCode:s(async({code:e,codeVerifier:i,redirectURI:t})=>w({code:e,codeVerifier:i,redirectURI:o.redirectURI||t,options:o,tokenEndpoint:"https://accounts.spotify.com/api/token"}),"validateAuthorizationCode"),async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);let{data:i,error:t}=await(0,Ce.betterFetch)("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${e.accessToken}`}});if(t)return null;let r=await o.mapProfileToUser?.(i);return{user:{id:i.id,name:i.display_name,email:i.email,image:i.images[0]?.url,emailVerified:!1,...r},data:i}}}),"spotify");var ye=require("jose");var we=s(o=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:e,scopes:i,redirectURI:t}){let r=i||["user:read:email","openid"];return o.scope&&r.push(...o.scope),b({id:"twitch",redirectURI:t,options:o,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:r,state:e,claims:o.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:s(async({code:e,redirectURI:i})=>w({code:e,redirectURI:o.redirectURI||i,options:o,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),"validateAuthorizationCode"),async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);let i=e.idToken;if(!i)return _.error("No idToken found in token"),null;let t=(0,ye.decodeJwt)(i),r=await o.mapProfileToUser?.(t);return{user:{id:t.sub,name:t.preferred_username,email:t.email,image:t.picture,emailVerified:!1,...r},data:t}}}),"twitch");var be=require("@better-fetch/fetch");var Re=s(o=>({id:"twitter",name:"Twitter",createAuthorizationURL(e){let i=e.scopes||["users.read","tweet.read","offline.access"];return o.scope&&i.push(...o.scope),b({id:"twitter",options:o,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:i,state:e.state,codeVerifier:e.codeVerifier,redirectURI:e.redirectURI})},validateAuthorizationCode:s(async({code:e,codeVerifier:i,redirectURI:t})=>w({code:e,codeVerifier:i,authentication:"basic",redirectURI:o.redirectURI||t,options:o,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),"validateAuthorizationCode"),async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);let{data:i,error:t}=await(0,be.betterFetch)("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${e.accessToken}`}});if(t)return null;let r=await o.mapProfileToUser?.(i);return{user:{id:i.data.id,name:i.data.name,email:i.data.username||null,image:i.data.profile_image_url,emailVerified:i.data.verified||!1,...r},data:i}}}),"twitter");var ke=require("@better-fetch/fetch");var Te=s(o=>{let e="https://api.dropboxapi.com/oauth2/token";return{id:"dropbox",name:"Dropbox",createAuthorizationURL:s(async({state:i,scopes:t,codeVerifier:r,redirectURI:n})=>{let A=t||["account_info.read"];return o.scope&&A.push(...o.scope),await b({id:"dropbox",options:o,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:A,state:i,redirectURI:n,codeVerifier:r})},"createAuthorizationURL"),validateAuthorizationCode:s(async({code:i,codeVerifier:t,redirectURI:r})=>await w({code:i,codeVerifier:t,redirectURI:o.redirectURI||r,options:o,tokenEndpoint:e}),"validateAuthorizationCode"),async getUserInfo(i){if(o.getUserInfo)return o.getUserInfo(i);let{data:t,error:r}=await(0,ke.betterFetch)("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${i.accessToken}`}});if(r)return null;let n=await o.mapProfileToUser?.(t);return{user:{id:t.account_id,name:t.name?.display_name,email:t.email,emailVerified:t.email_verified||!1,image:t.profile_photo_url,...n},data:t}}}},"dropbox");var ve=require("@better-fetch/fetch");var Ue=s(o=>{let e="https://www.linkedin.com/oauth/v2/authorization",i="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:s(async({state:t,scopes:r,redirectURI:n})=>{let A=r||["profile","email","openid"];return o.scope&&A.push(...o.scope),await b({id:"linkedin",options:o,authorizationEndpoint:e,scopes:A,state:t,redirectURI:n})},"createAuthorizationURL"),validateAuthorizationCode:s(async({code:t,redirectURI:r})=>await w({code:t,redirectURI:o.redirectURI||r,options:o,tokenEndpoint:i}),"validateAuthorizationCode"),async getUserInfo(t){let{data:r,error:n}=await(0,ve.betterFetch)("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let A=await o.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,emailVerified:r.email_verified||!1,image:r.picture,...A},data:r}}}},"linkedin");var Ee=require("@better-fetch/fetch");var Do=s((o="")=>o.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),"cleanDoubleSlashes"),Vi=s(o=>{let e=o||"https://gitlab.com";return{authorizationEndpoint:Do(`${e}/oauth/authorize`),tokenEndpoint:Do(`${e}/oauth/token`),userinfoEndpoint:Do(`${e}/api/v4/user`)}},"issuerToEndpoints"),Oe=s(o=>{let{authorizationEndpoint:e,tokenEndpoint:i,userinfoEndpoint:t}=Vi(o.issuer),r="gitlab";return{id:r,name:"Gitlab",createAuthorizationURL:s(async({state:A,scopes:K,codeVerifier:a,redirectURI:d})=>{let g=K||["read_user"];return o.scope&&g.push(...o.scope),await b({id:r,options:o,authorizationEndpoint:e,scopes:g,state:A,redirectURI:d,codeVerifier:a})},"createAuthorizationURL"),validateAuthorizationCode:s(async({code:A,redirectURI:K,codeVerifier:a})=>w({code:A,redirectURI:o.redirectURI||K,options:o,codeVerifier:a,tokenEndpoint:i}),"validateAuthorizationCode"),async getUserInfo(A){if(o.getUserInfo)return o.getUserInfo(A);let{data:K,error:a}=await(0,Ee.betterFetch)(t,{headers:{authorization:`Bearer ${A.accessToken}`}});if(a||K.state!=="active"||K.locked)return null;let d=await o.mapProfileToUser?.(K);return{user:{id:K.id.toString(),name:K.name??K.username,email:K.email,image:K.avatar_url,emailVerified:!0,...d},data:K}}}},"gitlab");var Io=require("@better-fetch/fetch");var Pe=s(o=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:e,scopes:i,redirectURI:t}){let r=i||["identity"];return o.scope&&r.push(...o.scope),b({id:"reddit",options:o,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:r,state:e,redirectURI:t,duration:o.duration})},validateAuthorizationCode:s(async({code:e,redirectURI:i})=>{let t=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:o.redirectURI||i}),r={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${Buffer.from(`${o.clientId}:${o.clientSecret}`).toString("base64")}`},{data:n,error:A}=await(0,Io.betterFetch)("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:r,body:t.toString()});if(A)throw A;return mo(n)},"validateAuthorizationCode"),async getUserInfo(e){if(o.getUserInfo)return o.getUserInfo(e);let{data:i,error:t}=await(0,Io.betterFetch)("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${e.accessToken}`,"User-Agent":"better-auth"}});if(t)return null;let r=await o.mapProfileToUser?.(i);return{user:{id:i.id,name:i.name,email:i.oauth_client_id,emailVerified:i.has_verified_email,image:i.icon_img?.split("?")[0],...r},data:i}}}),"reddit");var xe=require("zod"),qi={apple:se,discord:Ae,facebook:de,github:ce,microsoft:me,google:ue,spotify:he,twitch:we,twitter:Re,dropbox:Te,linkedin:Ue,gitlab:Oe,reddit:Pe},So=Object.keys(qi),De=xe.z.enum(So,{description:"OAuth2 provider to use"});var L=require("zod");var eo=require("better-call");var M=require("better-call");var G=require("zod");var p={USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action."};var Ie=require("@better-auth/utils/hmac"),Se=require("@better-auth/utils/base64"),_e=require("@better-auth/utils/binary");var _o=s(()=>C("/get-session",{method:"GET",query:G.z.optional(G.z.object({disableCookieCache:G.z.boolean({description:"Disable cookie cache and fetch session from database"}).or(G.z.string().transform(o=>o==="true")).optional(),disableRefresh:G.z.boolean({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{type:"object",properties:{token:{type:"string"},userId:{type:"string"},expiresAt:{type:"string"}}},user:{type:"object",$ref:"#/components/schemas/User"}}}}}}}}}},async o=>{try{let e=await o.getSignedCookie(o.context.authCookies.sessionToken.name,o.context.secret);if(!e)return o.json(null);let i=o.getCookie(o.context.authCookies.sessionData.name),t=i?Ro(_e.binary.decode(Se.base64.decode(i))):null;if(t&&!await(0,Ie.createHMAC)("SHA-256","base64urlnopad").verify(o.context.secret,JSON.stringify(t.session),t.signature))return j(o),o.json(null);let r=await o.getSignedCookie(o.context.authCookies.dontRememberToken.name,o.context.secret);if(t?.session&&o.context.options.session?.cookieCache?.enabled&&!o.query?.disableCookieCache){let g=t.session;if(t.expiresAt<Date.now()||g.session.expiresAt<new Date){let l=o.context.authCookies.sessionData.name;o.setCookie(l,"",{maxAge:0})}else return o.json(g)}let n=await o.context.internalAdapter.findSession(e);if(o.context.session=n,!n||n.session.expiresAt<new Date)return j(o),n&&await o.context.internalAdapter.deleteSession(n.session.token),o.json(null);if(r||o.query?.disableRefresh)return o.json(n);let A=o.context.sessionConfig.expiresIn,K=o.context.sessionConfig.updateAge;if(n.session.expiresAt.valueOf()-A*1e3+K*1e3<=Date.now()){let g=await o.context.internalAdapter.updateSession(n.session.token,{expiresAt:H(o.context.sessionConfig.expiresIn,"sec")});if(!g)return j(o),o.json(null,{status:401});let f=(g.expiresAt.valueOf()-Date.now())/1e3;return await x(o,{session:g,user:n.user},!1,{maxAge:f}),o.json({session:g,user:n.user})}return await Po(o,n),o.json(n)}catch(e){throw o.context.logger.error("INTERNAL_SERVER_ERROR",e),new M.APIError("INTERNAL_SERVER_ERROR",{message:p.FAILED_TO_GET_SESSION})}}),"getSession"),X=s(async(o,e)=>{if(o.context.session)return o.context.session;let i=await _o()({...o,_flag:"json",headers:o.headers,query:e}).catch(t=>null);return o.context.session=i,i},"getSessionFromCtx"),I=Ao(async o=>{let e=await X(o);if(!e?.session)throw new M.APIError("UNAUTHORIZED");return{session:e}}),ha=Ao(async o=>{let e=await X(o);if(!e?.session)throw new M.APIError("UNAUTHORIZED");if(o.context.sessionConfig.freshAge===0)return{session:e};let i=o.context.sessionConfig.freshAge,t=e.session.updatedAt?.valueOf()||e.session.createdAt.valueOf();if(!(Date.now()-t<i*1e3))throw new M.APIError("FORBIDDEN",{message:"Session is not fresh"});return{session:e}}),Le=s(()=>C("/list-sessions",{method:"GET",use:[I],requireHeaders:!0,metadata:{openapi:{description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{token:{type:"string"},userId:{type:"string"},expiresAt:{type:"string"}}}}}}}}}}},async o=>{let i=(await o.context.internalAdapter.listSessions(o.context.session.user.id)).filter(t=>t.expiresAt>new Date);return o.json(i)}),"listSessions"),Ne=C("/revoke-session",{method:"POST",body:G.z.object({token:G.z.string({description:"The token to revoke"})}),use:[I],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}},required:["token"]}}}}}}},async o=>{let e=o.body.token,i=await o.context.internalAdapter.findSession(e);if(!i)throw new M.APIError("BAD_REQUEST",{message:"Session not found"});if(i.session.userId!==o.context.session.user.id)throw new M.APIError("UNAUTHORIZED");try{await o.context.internalAdapter.deleteSession(e)}catch(t){throw o.context.logger.error(t&&typeof t=="object"&&"name"in t?t.name:"",t),new M.APIError("INTERNAL_SERVER_ERROR")}return o.json({status:!0})}),Be=C("/revoke-sessions",{method:"POST",use:[I],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}},required:["status"]}}}}}}}},async o=>{try{await o.context.internalAdapter.deleteSessions(o.context.session.user.id)}catch(e){throw o.context.logger.error(e&&typeof e=="object"&&"name"in e?e.name:"",e),new M.APIError("INTERNAL_SERVER_ERROR")}return o.json({status:!0})}),Fe=C("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[I],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async o=>{let e=o.context.session;if(!e.user)throw new M.APIError("UNAUTHORIZED");let r=(await o.context.internalAdapter.listSessions(e.user.id)).filter(n=>n.expiresAt>new Date).filter(n=>n.token!==o.context.session.session.token);return await Promise.all(r.map(n=>o.context.internalAdapter.deleteSession(n.token))),o.json({status:!0})});var Ve=require("jose");var je=require("jose");async function Me(o,e,i=3600){return await new je.SignJWT(o).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+i).sign(new TextEncoder().encode(e))}s(Me,"signJWT");async function V(o,e,i){return await Me({email:e.toLowerCase(),updateTo:i},o)}s(V,"createEmailVerificationToken");async function zi(o,e){if(!o.context.options.emailVerification?.sendVerificationEmail)throw o.context.logger.error("Verification email isn't enabled."),new eo.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let i=await V(o.context.secret,e.email),t=`${o.context.baseURL}/verify-email?token=${i}&callbackURL=${o.body.callbackURL||o.query?.currentURL||"/"}`;await o.context.options.emailVerification.sendVerificationEmail({user:e,url:t,token:i},o.request)}s(zi,"sendVerificationEmailFn");var qe=C("/send-verification-email",{method:"POST",query:L.z.object({currentURL:L.z.string({description:"The URL to use for email verification callback"}).optional()}).optional(),body:L.z.object({email:L.z.string({description:"The email to send the verification email to"}).email(),callbackURL:L.z.string({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to"},callbackURL:{type:"string",description:"The URL to use for email verification callback"}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async o=>{if(!o.context.options.emailVerification?.sendVerificationEmail)throw o.context.logger.error("Verification email isn't enabled."),new eo.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:e}=o.body,i=await o.context.internalAdapter.findUserByEmail(e);if(!i)throw new eo.APIError("BAD_REQUEST",{message:p.USER_NOT_FOUND});return await zi(o,i.user),o.json({status:!0})}),ze=C("/verify-email",{method:"GET",query:L.z.object({token:L.z.string({description:"The token to verify the email"}),callbackURL:L.z.string({description:"The URL to redirect to after email verification"}).optional()}),metadata:{openapi:{description:"Verify the email of the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object"},status:{type:"boolean"}},required:["user","status"]}}}}}}}},async o=>{function e(K){throw o.query.callbackURL?o.query.callbackURL.includes("?")?o.redirect(`${o.query.callbackURL}&error=${K}`):o.redirect(`${o.query.callbackURL}?error=${K}`):new eo.APIError("UNAUTHORIZED",{message:K})}s(e,"redirectOnError");let{token:i}=o.query,t;try{t=await(0,Ve.jwtVerify)(i,new TextEncoder().encode(o.context.secret),{algorithms:["HS256"]})}catch(K){return o.context.logger.error("Failed to verify email",K),e("invalid_token")}let n=L.z.object({email:L.z.string().email(),updateTo:L.z.string().optional()}).parse(t.payload),A=await o.context.internalAdapter.findUserByEmail(n.email);if(!A)return e("user_not_found");if(n.updateTo){let K=await X(o);if(!K){if(o.query.callbackURL)throw o.redirect(`${o.query.callbackURL}?error=unauthorized`);return e("unauthorized")}if(K.user.email!==n.email){if(o.query.callbackURL)throw o.redirect(`${o.query.callbackURL}?error=unauthorized`);return e("unauthorized")}let a=await o.context.internalAdapter.updateUserByEmail(n.email,{email:n.updateTo,emailVerified:!1}),d=await V(o.context.secret,n.updateTo);if(await o.context.options.emailVerification?.sendVerificationEmail?.({user:a,url:`${o.context.baseURL}/verify-email?token=${d}`,token:d},o.request),o.query.callbackURL)throw o.redirect(o.query.callbackURL);return o.json({status:!0})}if(await o.context.internalAdapter.updateUserByEmail(n.email,{emailVerified:!0}),o.context.options.emailVerification?.autoSignInAfterVerification&&!await X(o)){let a=await o.context.internalAdapter.createSession(A.user.id,o.request);if(!a)throw new eo.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await x(o,{session:a,user:A.user})}if(o.query.callbackURL)throw o.redirect(o.query.callbackURL);return o.json({status:!0})});async function Co(o,{userInfo:e,account:i,callbackURL:t}){let r=await o.context.internalAdapter.findOAuthUser(e.email.toLowerCase(),i.accountId,i.providerId).catch(a=>{throw _.error(`Better auth was unable to query your database.
Error: `,a),o.redirect(`${o.context.baseURL}/error?error=internal_server_error`)}),n=r?.user,A=!n;if(r){let a=r.accounts.find(d=>d.providerId===i.providerId);if(a){let d=Object.fromEntries(Object.entries({accessToken:i.accessToken,idToken:i.idToken,refreshToken:i.refreshToken,accessTokenExpiresAt:i.accessTokenExpiresAt,refreshTokenExpiresAt:i.refreshTokenExpiresAt}).filter(([g,f])=>f!==void 0));Object.keys(d).length>0&&await o.context.internalAdapter.updateAccount(a.id,d)}else{if(!o.context.options.account?.accountLinking?.trustedProviders?.includes(i.providerId)&&!e.emailVerified||o.context.options.account?.accountLinking?.enabled===!1)return po&&_.warn(`User already exist but account isn't linked to ${i.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await o.context.internalAdapter.linkAccount({providerId:i.providerId,accountId:e.id.toString(),userId:r.user.id,accessToken:i.accessToken,idToken:i.idToken,refreshToken:i.refreshToken,accessTokenExpiresAt:i.accessTokenExpiresAt,refreshTokenExpiresAt:i.refreshTokenExpiresAt,scope:i.scope})}catch(f){return _.error("Unable to link account",f),{error:"unable to link account",data:null}}}}else try{if(n=await o.context.internalAdapter.createOAuthUser({...e,email:e.email.toLowerCase(),id:void 0},{accessToken:i.accessToken,idToken:i.idToken,refreshToken:i.refreshToken,accessTokenExpiresAt:i.accessTokenExpiresAt,refreshTokenExpiresAt:i.refreshTokenExpiresAt,scope:i.scope,providerId:i.providerId,accountId:e.id.toString()}).then(a=>a?.user),!e.emailVerified&&n&&o.context.options.emailVerification?.sendOnSignUp){let a=await V(o.context.secret,n.email),d=`${o.context.baseURL}/verify-email?token=${a}&callbackURL=${t}`;await o.context.options.emailVerification?.sendVerificationEmail?.({user:n,url:d,token:a},o.request)}}catch(a){return a instanceof Ko.APIError?{error:a.message,data:null,isRegister:!1}:{error:"unable to create user",data:null,isRegister:!1}}if(!n)return{error:"unable to create user",data:null,isRegister:!1};let K=await o.context.internalAdapter.createSession(n.id,o.request);return K?{data:{session:K,user:n},error:null,isRegister:A}:{error:"unable to create session",data:null,isRegister:!1}}s(Co,"handleOAuthUserInfo");var He=C("/sign-in/social",{method:"POST",query:v.z.object({currentURL:v.z.string().optional()}).optional(),body:v.z.object({callbackURL:v.z.string({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:v.z.string().optional(),errorCallbackURL:v.z.string({description:"Callback URL to redirect to if an error happens"}).optional(),provider:De,disableRedirect:v.z.boolean({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:v.z.optional(v.z.object({token:v.z.string({description:"ID token from the provider"}),nonce:v.z.string({description:"Nonce used to generate the token"}).optional(),accessToken:v.z.string({description:"Access token from the provider"}).optional(),refreshToken:v.z.string({description:"Refresh token from the provider"}).optional(),expiresAt:v.z.number({description:"Expiry date of the token"}).optional()}),{description:"ID token from the provider to sign in the user with id token"})}),metadata:{openapi:{description:"Sign in with a social provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{type:"string"},user:{type:"object"},url:{type:"string"},redirect:{type:"boolean"}},required:["session","user","url","redirect"]}}}}}}}},async o=>{let e=o.context.socialProviders.find(n=>n.id===o.body.provider);if(!e)throw o.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:o.body.provider}),new O.APIError("NOT_FOUND",{message:p.PROVIDER_NOT_FOUND});if(o.body.idToken){if(!e.verifyIdToken)throw o.context.logger.error("Provider does not support id token verification",{provider:o.body.provider}),new O.APIError("NOT_FOUND",{message:p.ID_TOKEN_NOT_SUPPORTED});let{token:n,nonce:A}=o.body.idToken;if(!await e.verifyIdToken(n,A))throw o.context.logger.error("Invalid id token",{provider:o.body.provider}),new O.APIError("UNAUTHORIZED",{message:p.INVALID_TOKEN});let a=await e.getUserInfo({idToken:n,accessToken:o.body.idToken.accessToken,refreshToken:o.body.idToken.refreshToken});if(!a||!a?.user)throw o.context.logger.error("Failed to get user info",{provider:o.body.provider}),new O.APIError("UNAUTHORIZED",{message:p.FAILED_TO_GET_USER_INFO});if(!a.user.email)throw o.context.logger.error("User email not found",{provider:o.body.provider}),new O.APIError("UNAUTHORIZED",{message:p.USER_EMAIL_NOT_FOUND});let d=await Co(o,{userInfo:{email:a.user.email,id:a.user.id,name:a.user.name||"",image:a.user.image,emailVerified:a.user.emailVerified||!1},account:{providerId:e.id,accountId:a.user.id,accessToken:o.body.idToken.accessToken}});if(d.error)throw new O.APIError("UNAUTHORIZED",{message:d.error});return await x(o,d.data),o.json({token:d.data.session.token,url:void 0,redirect:!1})}let{codeVerifier:i,state:t}=await fo(o),r=await e.createAuthorizationURL({state:t,codeVerifier:i,redirectURI:`${o.context.baseURL}/callback/${e.id}`});return o.json({url:r.toString(),redirect:!o.body.disableRedirect})}),Qe=C("/sign-in/email",{method:"POST",body:v.z.object({email:v.z.string({description:"Email of the user"}),password:v.z.string({description:"Password of the user"}),callbackURL:v.z.string({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:v.z.boolean({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object"},url:{type:"string"},redirect:{type:"boolean"}},required:["session","user","url","redirect"]}}}}}}}},async o=>{if(!o.context.options?.emailAndPassword?.enabled)throw o.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new O.APIError("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:e,password:i}=o.body;if(!v.z.string().email().safeParse(e).success)throw new O.APIError("BAD_REQUEST",{message:p.INVALID_EMAIL});let r=await o.context.internalAdapter.findUserByEmail(e,{includeAccounts:!0});if(!r)throw await o.context.password.hash(i),o.context.logger.error("User not found",{email:e}),new O.APIError("UNAUTHORIZED",{message:p.INVALID_EMAIL_OR_PASSWORD});let n=r.accounts.find(d=>d.providerId==="credential");if(!n)throw o.context.logger.error("Credential account not found",{email:e}),new O.APIError("UNAUTHORIZED",{message:p.INVALID_EMAIL_OR_PASSWORD});let A=n?.password;if(!A)throw o.context.logger.error("Password not found",{email:e}),new O.APIError("UNAUTHORIZED",{message:p.INVALID_EMAIL_OR_PASSWORD});if(!await o.context.password.verify({hash:A,password:i}))throw o.context.logger.error("Invalid password"),new O.APIError("UNAUTHORIZED",{message:p.INVALID_EMAIL_OR_PASSWORD});if(o.context.options?.emailAndPassword?.requireEmailVerification&&!r.user.emailVerified){if(!o.context.options?.emailVerification?.sendVerificationEmail)throw new O.APIError("UNAUTHORIZED",{message:p.EMAIL_NOT_VERIFIED});let d=await V(o.context.secret,r.user.email),g=`${o.context.baseURL}/verify-email?token=${d}&callbackURL=${o.body.callbackURL||"/"}`;throw await o.context.options.emailVerification.sendVerificationEmail({user:r.user,url:g,token:d},o.request),o.context.logger.error("Email not verified",{email:e}),new O.APIError("FORBIDDEN",{message:p.EMAIL_NOT_VERIFIED})}let a=await o.context.internalAdapter.createSession(r.user.id,o.headers,o.body.rememberMe===!1);if(!a)throw o.context.logger.error("Failed to create session"),new O.APIError("UNAUTHORIZED",{message:p.FAILED_TO_CREATE_SESSION});return await x(o,{session:a,user:r.user},o.body.rememberMe===!1),o.json({user:{id:r.user.id,email:r.user.email,name:r.user.name,image:r.user.image,emailVerified:r.user.emailVerified,createdAt:r.user.createdAt,updatedAt:r.user.updatedAt},redirect:!!o.body.callbackURL,url:o.body.callbackURL})});var io=require("zod");var ho=io.z.object({code:io.z.string().optional(),error:io.z.string().optional(),error_description:io.z.string().optional(),state:io.z.string().optional()}),$e=C("/callback/:id",{method:["GET","POST"],body:ho.optional(),query:ho.optional(),metadata:Y},async o=>{let e;try{if(o.method==="GET")e=ho.parse(o.query);else if(o.method==="POST")e=ho.parse(o.body);else throw new Error("Unsupported method")}catch(u){throw o.context.logger.error("INVALID_CALLBACK_REQUEST",u),o.redirect(`${o.context.baseURL}/error?error=invalid_callback_request`)}let{code:i,error:t,state:r,error_description:n}=e;if(!r)throw o.context.logger.error("State not found",t),o.redirect(`${o.context.baseURL}/error?error=state_not_found`);if(!i)throw o.context.logger.error("Code not found"),o.redirect(`${o.context.baseURL}/error?error=${t||"no_code"}&error_description=${n}`);let A=o.context.socialProviders.find(u=>u.id===o.params.id);if(!A)throw o.context.logger.error("Oauth provider with id",o.params.id,"not found"),o.redirect(`${o.context.baseURL}/error?error=oauth_provider_not_found`);let{codeVerifier:K,callbackURL:a,link:d,errorURL:g,newUserURL:f}=await Qo(o),l;try{l=await A.validateAuthorizationCode({code:i,codeVerifier:K,redirectURI:`${o.context.baseURL}/callback/${A.id}`})}catch(u){throw o.context.logger.error("",u),o.redirect(`${o.context.baseURL}/error?error=please_restart_the_process`)}let c=await A.getUserInfo(l).then(u=>u?.user);function y(u){let h=g||a||`${o.context.baseURL}/error`;throw h.includes("?")?h=`${h}&error=${u}`:h=`${h}?error=${u}`,o.redirect(h)}if(s(y,"redirectOnError"),!c)return o.context.logger.error("Unable to get user info"),y("unable_to_get_user_info");if(!c.email)return o.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),y("email_not_found");if(!a)throw o.context.logger.error("No callback URL found"),o.redirect(`${o.context.baseURL}/error?error=please_restart_the_process`);if(d){if(d.email!==c.email.toLowerCase())return y("email_doesn't_match");if(!await o.context.internalAdapter.createAccount({userId:d.userId,providerId:A.id,accountId:c.id}))return y("unable_to_link_account");let h;try{h=a.toString()}catch{h=a}throw o.redirect(h)}let T=await Co(o,{userInfo:{...c,email:c.email,name:c.name||c.email},account:{providerId:A.id,accountId:c.id,...l,scope:l.scopes?.join(",")},callbackURL:a});if(T.error)return o.context.logger.error(T.error.split(" ").join("_")),y(T.error.split(" ").join("_"));let{session:D,user:$}=T.data;await x(o,{session:D,user:$});let N;try{N=(T.isRegister&&f||a).toString()}catch{N=T.isRegister&&f||a}throw o.redirect(N)});var Xa=require("zod");var Ze=require("better-call");var Ge=C("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async o=>{let e=await o.getSignedCookie(o.context.authCookies.sessionToken.name,o.context.secret);if(!e)throw j(o),new Ze.APIError("BAD_REQUEST",{message:p.FAILED_TO_GET_SESSION});return await o.context.internalAdapter.deleteSession(e),j(o),o.json({success:!0})});var S=require("zod");var to=require("better-call");function We(o,e,i){let t=e?new URL(e,o.baseURL):new URL(`${o.baseURL}/error`);return i&&Object.entries(i).forEach(([r,n])=>t.searchParams.set(r,n)),t.href}s(We,"redirectError");function Hi(o,e,i){let t=new URL(e,o.baseURL);return i&&Object.entries(i).forEach(([r,n])=>t.searchParams.set(r,n)),t.href}s(Hi,"redirectCallback");var Xe=C("/forget-password",{method:"POST",body:S.z.object({email:S.z.string({description:"The email address of the user to send a password reset email to"}).email(),redirectTo:S.z.string({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async o=>{if(!o.context.options.emailAndPassword?.sendResetPassword)throw o.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPasswordToken function in your auth config!"),new to.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:e,redirectTo:i}=o.body,t=await o.context.internalAdapter.findUserByEmail(e,{includeAccounts:!0});if(!t)return o.context.logger.error("Reset Password: User not found",{email:e}),o.json({status:!1},{body:{status:!0}});let r=60*60*1,n=H(o.context.options.emailAndPassword.resetPasswordTokenExpiresIn||r,"sec"),A=so(24);await o.context.internalAdapter.createVerificationValue({value:t.user.id.toString(),identifier:`reset-password:${A}`,expiresAt:n});let K=`${o.context.baseURL}/reset-password/${A}?callbackURL=${i}`;return await o.context.options.emailAndPassword.sendResetPassword({user:t.user,url:K,token:A},o.request),o.json({status:!0})}),Je=C("/reset-password/:token",{method:"GET",query:S.z.object({callbackURL:S.z.string({description:"The URL to redirect the user to reset their password"})}),metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async o=>{let{token:e}=o.params,{callbackURL:i}=o.query;if(!e||!i)throw o.redirect(We(o.context,i,{error:"INVALID_TOKEN"}));let t=await o.context.internalAdapter.findVerificationValue(`reset-password:${e}`);throw!t||t.expiresAt<new Date?o.redirect(We(o.context,i,{error:"INVALID_TOKEN"})):o.redirect(Hi(o.context,i,{token:e}))}),Ye=C("/reset-password",{query:S.z.optional(S.z.object({token:S.z.string().optional(),currentURL:S.z.string().optional()})),method:"POST",body:S.z.object({newPassword:S.z.string({description:"The new password to set"}),token:S.z.string({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async o=>{let e=o.body.token||o.query?.token||(o.query?.currentURL?new URL(o.query.currentURL).searchParams.get("token"):"");if(!e)throw new to.APIError("BAD_REQUEST",{message:p.INVALID_TOKEN});let{newPassword:i}=o.body,t=o.context.password?.config.minPasswordLength,r=o.context.password?.config.maxPasswordLength;if(i.length<t)throw new to.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_SHORT});if(i.length>r)throw new to.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_LONG});let n=`reset-password:${e}`,A=await o.context.internalAdapter.findVerificationValue(n);if(!A||A.expiresAt<new Date)throw new to.APIError("BAD_REQUEST",{message:p.INVALID_TOKEN});await o.context.internalAdapter.deleteVerificationValue(A.id);let K=A.value,a=await o.context.password.hash(i);return(await o.context.internalAdapter.findAccounts(K)).find(f=>f.providerId==="credential")?(await o.context.internalAdapter.updatePassword(K,a),o.json({status:!0})):(await o.context.internalAdapter.createAccount({userId:K,providerId:"credential",password:a,accountId:K}),o.json({status:!0}))});var R=require("zod");var k=require("better-call");var oi=s(()=>C("/update-user",{method:"POST",body:R.z.record(R.z.string(),R.z.any()),use:[I],metadata:{openapi:{description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object"}}}}}}}}}},async o=>{let e=o.body;if(e.email)throw new k.APIError("BAD_REQUEST",{message:p.EMAIL_CAN_NOT_BE_UPDATED});let{name:i,image:t,...r}=e,n=o.context.session;if(t===void 0&&i===void 0&&Object.keys(r).length===0)return o.json({status:!0});let A=lo(o.context.options,r,"update"),K=await o.context.internalAdapter.updateUserByEmail(n.user.email,{name:i,image:t,...A});return await x(o,{session:n.session,user:K}),o.json({status:!0})}),"updateUser"),ei=C("/change-password",{method:"POST",body:R.z.object({newPassword:R.z.string({description:"The new password to set"}),currentPassword:R.z.string({description:"The current password"}),revokeOtherSessions:R.z.boolean({description:"Revoke all other sessions"}).optional()}),use:[I],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{description:"The user object",$ref:"#/components/schemas/User"}}}}}}}}}},async o=>{let{newPassword:e,currentPassword:i,revokeOtherSessions:t}=o.body,r=o.context.session,n=o.context.password.config.minPasswordLength;if(e.length<n)throw o.context.logger.error("Password is too short"),new k.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_SHORT});let A=o.context.password.config.maxPasswordLength;if(e.length>A)throw o.context.logger.error("Password is too long"),new k.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_LONG});let a=(await o.context.internalAdapter.findAccounts(r.user.id)).find(l=>l.providerId==="credential"&&l.password);if(!a||!a.password)throw new k.APIError("BAD_REQUEST",{message:p.CREDENTIAL_ACCOUNT_NOT_FOUND});let d=await o.context.password.hash(e);if(!await o.context.password.verify({hash:a.password,password:i}))throw new k.APIError("BAD_REQUEST",{message:p.INVALID_PASSWORD});await o.context.internalAdapter.updateAccount(a.id,{password:d});let f=null;if(t){await o.context.internalAdapter.deleteSessions(r.user.id);let l=await o.context.internalAdapter.createSession(r.user.id,o.headers);if(!l)throw new k.APIError("INTERNAL_SERVER_ERROR",{message:p.FAILED_TO_GET_SESSION});await x(o,{session:l,user:r.user}),f=l.token}return o.json({token:f})}),ii=C("/set-password",{method:"POST",body:R.z.object({newPassword:R.z.string()}),metadata:{SERVER_ONLY:!0},use:[I]},async o=>{let{newPassword:e}=o.body,i=o.context.session,t=o.context.password.config.minPasswordLength;if(e.length<t)throw o.context.logger.error("Password is too short"),new k.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_SHORT});let r=o.context.password.config.maxPasswordLength;if(e.length>r)throw o.context.logger.error("Password is too long"),new k.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_LONG});let A=(await o.context.internalAdapter.findAccounts(i.user.id)).find(a=>a.providerId==="credential"&&a.password),K=await o.context.password.hash(e);if(!A)return await o.context.internalAdapter.linkAccount({userId:i.user.id,providerId:"credential",accountId:i.user.id,password:K}),o.json({status:!0});throw new k.APIError("BAD_REQUEST",{message:"user already has a password"})}),ti=C("/delete-user",{method:"POST",use:[I],body:R.z.object({callbackURL:R.z.string().optional(),password:R.z.string().optional(),token:R.z.string().optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object"}}}}}}}},async o=>{if(!o.context.options.user?.deleteUser?.enabled)throw o.context.logger.error("Delete user is disabled. Enable it in the options",{session:o.context.session}),new k.APIError("NOT_FOUND");let e=o.context.session;if(o.body.password){let n=(await o.context.internalAdapter.findAccounts(e.user.id)).find(K=>K.providerId==="credential"&&K.password);if(!n||!n.password)throw new k.APIError("BAD_REQUEST",{message:p.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await o.context.password.verify({hash:n.password,password:o.body.password}))throw new k.APIError("BAD_REQUEST",{message:p.INVALID_PASSWORD})}else if(o.context.options.session?.freshAge){let r=e.session.createdAt.getTime(),n=o.context.options.session.freshAge;if(Date.now()-r>n)throw new k.APIError("BAD_REQUEST",{message:p.SESSION_EXPIRED})}if(o.body.token)return await Lo({query:{token:o.body.token},...o}),o.json({success:!0,message:"User deleted"});if(o.context.options.user.deleteUser?.sendDeleteAccountVerification){let r=ao(32,"0-9","a-z");await o.context.internalAdapter.createVerificationValue({value:e.user.id,identifier:`delete-account-${r}`,expiresAt:new Date(Date.now()+1e3*60*60*24)});let n=`${o.context.baseURL}/delete-user/callback?token=${r}&callbackURL=${o.body.callbackURL||"/"}`;return await o.context.options.user.deleteUser.sendDeleteAccountVerification({user:e.user,url:n,token:r},o.request),o.json({success:!0,message:"Verification email sent"})}let i=o.context.options.user.deleteUser?.beforeDelete;i&&await i(e.user,o.request),await o.context.internalAdapter.deleteUser(e.user.id),await o.context.internalAdapter.deleteSessions(e.user.id),await o.context.internalAdapter.deleteAccounts(e.user.id),j(o);let t=o.context.options.user.deleteUser?.afterDelete;return t&&await t(e.user,o.request),o.json({success:!0,message:"User deleted"})}),Lo=C("/delete-user/callback",{method:"GET",query:R.z.object({token:R.z.string(),callbackURL:R.z.string().optional()})},async o=>{if(!o.context.options.user?.deleteUser?.enabled)throw o.context.logger.error("Delete user is disabled. Enable it in the options"),new k.APIError("NOT_FOUND");let e=await X(o);if(!e)throw new k.APIError("NOT_FOUND",{message:p.FAILED_TO_GET_USER_INFO});let i=await o.context.internalAdapter.findVerificationValue(`delete-account-${o.query.token}`);if(!i||i.expiresAt<new Date)throw i&&await o.context.internalAdapter.deleteVerificationValue(i.id),new k.APIError("NOT_FOUND",{message:p.INVALID_TOKEN});if(i.value!==e.user.id)throw new k.APIError("NOT_FOUND",{message:p.INVALID_TOKEN});let t=o.context.options.user.deleteUser?.beforeDelete;t&&await t(e.user,o.request),await o.context.internalAdapter.deleteUser(e.user.id),await o.context.internalAdapter.deleteSessions(e.user.id),await o.context.internalAdapter.deleteAccounts(e.user.id),await o.context.internalAdapter.deleteVerificationValue(i.id),j(o);let r=o.context.options.user.deleteUser?.afterDelete;if(r&&await r(e.user,o.request),o.query.callbackURL)throw o.redirect(o.query.callbackURL||"/");return o.json({success:!0,message:"User deleted"})}),ri=C("/change-email",{method:"POST",query:R.z.object({currentURL:R.z.string().optional()}).optional(),body:R.z.object({newEmail:R.z.string({description:"The new email to set"}).email(),callbackURL:R.z.string({description:"The URL to redirect to after email verification"}).optional()}),use:[I],metadata:{openapi:{responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object"},status:{type:"boolean"}}}}}}}}}},async o=>{if(!o.context.options.user?.changeEmail?.enabled)throw o.context.logger.error("Change email is disabled."),new k.APIError("BAD_REQUEST",{message:"Change email is disabled"});if(o.body.newEmail===o.context.session.user.email)throw o.context.logger.error("Email is the same"),new k.APIError("BAD_REQUEST",{message:"Email is the same"});if(await o.context.internalAdapter.findUserByEmail(o.body.newEmail))throw o.context.logger.error("Email already exists"),new k.APIError("BAD_REQUEST",{message:"Couldn't update your email"});if(o.context.session.user.emailVerified!==!0){let r=await o.context.internalAdapter.updateUserByEmail(o.context.session.user.email,{email:o.body.newEmail});return o.json({status:!0})}if(!o.context.options.user.changeEmail.sendChangeEmailVerification)throw o.context.logger.error("Verification email isn't enabled."),new k.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let i=await V(o.context.secret,o.context.session.user.email,o.body.newEmail),t=`${o.context.baseURL}/verify-email?token=${i}&callbackURL=${o.body.callbackURL||o.query?.currentURL||"/"}`;return await o.context.options.user.changeEmail.sendChangeEmailVerification({user:o.context.session.user,newEmail:o.body.newEmail,url:t,token:i},o.request),o.json({status:!0})});var Qi=s((o="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">\u26A0\uFE0F</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${o}</span></div>
    </div>
</body>
</html>`,"html"),ni=C("/error",{method:"GET",metadata:{...Y,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string"}}}}}}}},async o=>{let e=new URL(o.request?.url||"").searchParams.get("error")||"Unknown";return new Response(Qi(e),{headers:{"Content-Type":"text/html"}})});var si=C("/ok",{method:"GET",metadata:{...Y,openapi:{description:"Check if the API is working",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean"}}}}}}}}}},async o=>o.json({ok:!0}));var J=require("zod");var q=require("better-call");var ai=s(()=>C("/sign-up/email",{method:"POST",query:J.z.object({currentURL:J.z.string().optional()}).optional(),body:J.z.record(J.z.string(),J.z.any()),metadata:{openapi:{description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"}},required:["name","email","password"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string",description:"The id of the user"},email:{type:"string",description:"The email of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"},emailVerified:{type:"boolean",description:"If the email is verified"}}}}}}}}}},async o=>{if(!o.context.options.emailAndPassword?.enabled)throw new q.APIError("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let e=o.body,{name:i,email:t,password:r,image:n,callbackURL:A,...K}=e;if(!J.z.string().email().safeParse(t).success)throw new q.APIError("BAD_REQUEST",{message:p.INVALID_EMAIL});let d=o.context.password.config.minPasswordLength;if(r.length<d)throw o.context.logger.error("Password is too short"),new q.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_SHORT});let g=o.context.password.config.maxPasswordLength;if(r.length>g)throw o.context.logger.error("Password is too long"),new q.APIError("BAD_REQUEST",{message:p.PASSWORD_TOO_LONG});if((await o.context.internalAdapter.findUserByEmail(t))?.user)throw o.context.logger.info(`Sign-up attempt for existing email: ${t}`),new q.APIError("UNPROCESSABLE_ENTITY",{message:p.USER_ALREADY_EXISTS});let l=lo(o.context.options,K),c;try{if(c=await o.context.internalAdapter.createUser({email:t.toLowerCase(),name:i,image:n,...l,emailVerified:!1}),!c)throw new q.APIError("BAD_REQUEST",{message:p.FAILED_TO_CREATE_USER})}catch(D){throw po&&o.context.logger.error("Failed to create user",D),new q.APIError("UNPROCESSABLE_ENTITY",{message:p.FAILED_TO_CREATE_USER,details:D})}if(!c)throw new q.APIError("UNPROCESSABLE_ENTITY",{message:p.FAILED_TO_CREATE_USER});let y=await o.context.password.hash(r);if(await o.context.internalAdapter.linkAccount({userId:c.id,providerId:"credential",accountId:c.id,password:y}),o.context.options.emailVerification?.sendOnSignUp){let D=await V(o.context.secret,c.email),$=`${o.context.baseURL}/verify-email?token=${D}&callbackURL=${e.callbackURL||o.query?.currentURL||"/"}`;await o.context.options.emailVerification?.sendVerificationEmail?.({user:c,url:$,token:D},o.request)}if(!o.context.options.emailAndPassword.autoSignIn||o.context.options.emailAndPassword.requireEmailVerification)return o.json({token:null});let T=await o.context.internalAdapter.createSession(c.id,o.request);if(!T)throw new q.APIError("BAD_REQUEST",{message:p.FAILED_TO_CREATE_SESSION});return await x(o,{session:T,user:c}),o.json({token:T.token})}),"signUpEmail");var ro=require("zod");var No=require("better-call");var Ai=C("/list-accounts",{method:"GET",use:[I],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},provider:{type:"string"}}}}}}}}}}},async o=>{let e=o.context.session,i=await o.context.internalAdapter.findAccounts(e.user.id);return o.json(i.map(t=>({id:t.id,provider:t.providerId})))}),Ki=C("/link-social",{method:"POST",requireHeaders:!0,query:ro.z.object({currentURL:ro.z.string().optional()}).optional(),body:ro.z.object({callbackURL:ro.z.string({description:"The URL to redirect to after the user has signed in"}).optional(),provider:ro.z.enum(So,{description:"The OAuth2 provider to use"})}),use:[I],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string"},redirect:{type:"boolean"}},required:["url","redirect"]}}}}}}}},async o=>{let e=o.context.session;if((await o.context.internalAdapter.findAccounts(e.user.id)).find(K=>K.providerId===o.body.provider))throw new No.APIError("BAD_REQUEST",{message:p.SOCIAL_ACCOUNT_ALREADY_LINKED});let r=o.context.socialProviders.find(K=>K.id===o.body.provider);if(!r)throw o.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:o.body.provider}),new No.APIError("NOT_FOUND",{message:p.PROVIDER_NOT_FOUND});let n=await fo(o,{userId:e.user.id,email:e.user.email}),A=await r.createAuthorizationURL({state:n.state,codeVerifier:n.codeVerifier,redirectURI:`${o.context.baseURL}/callback/${r.id}`});return o.json({url:A.toString(),redirect:!0})});var mK=require("defu");var Ko=require("better-call");function Bo(o,e){let i=e.plugins?.reduce((K,a)=>({...K,...a.endpoints}),{}),t=e.plugins?.map(K=>K.middlewares?.map(a=>{let d=s(async g=>a.middleware({...g,context:{...o,...g.context}}),"middleware");return d.path=a.path,d.options=a.middleware.options,d.headers=a.middleware.headers,{path:a.path,middleware:d}})).filter(K=>K!==void 0).flat()||[],n={...{signInSocial:He,callbackOAuth:$e,getSession:_o(),signOut:Ge,signUpEmail:ai(),signInEmail:Qe,forgetPassword:Xe,resetPassword:Ye,verifyEmail:ze,sendVerificationEmail:qe,changeEmail:ri,changePassword:ei,setPassword:ii,updateUser:oi(),deleteUser:ti,forgetPasswordCallback:Je,listSessions:Le(),revokeSession:Ne,revokeSessions:Be,revokeOtherSessions:Fe,linkSocialAccount:Ki,listUserAccounts:Ai,deleteUserCallback:Lo},...i,ok:si,error:ni},A={};for(let[K,a]of Object.entries(n))A[K]=async(d={})=>{a.headers=new Headers;let g={setHeader(u,h){a.headers.set(u,h)},setCookie(u,h,U){(0,P.setCookie)(a.headers,u,h,U)},getCookie(u,h){let E=d.headers?.get("cookie");return(0,P.getCookie)(E||"",u,h)},getSignedCookie(u,h,U){let E=d.headers;return E?(0,P.getSignedCookie)(E,h,u,U):null},async setSignedCookie(u,h,U,E){await(0,P.setSignedCookie)(a.headers,u,h,U,E)},redirect(u){return a.headers.set("Location",u),new P.APIError("FOUND")},responseHeader:a.headers},f=await o,l=null,c={...g,...d,path:a.path,context:{...f,...d.context,session:null,setNewSession:s(function(u){this.newSession=u,l=u},"setNewSession")}},y=e.plugins||[],T=y.map(u=>{if(u.hooks?.before)return u.hooks.before}).filter(u=>u!==void 0).flat(),D=y.map(u=>{if(u.hooks?.after)return u.hooks.after}).filter(u=>u!==void 0).flat();e.hooks?.before&&T.push({matcher:s(()=>!0,"matcher"),handler:e.hooks.before}),e.hooks?.after&&D.push({matcher:s(()=>!0,"matcher"),handler:e.hooks.after});for(let u of T){if(!u.matcher(c))continue;let h=await u.handler(c);if(h&&"context"in h){c={...c,...h.context};continue}if(h)return h}let $;try{$=await a(c),l&&(c.context.newSession=l)}catch(u){if(l&&(c.context.newSession=l),u instanceof P.APIError){if(!D?.length)throw u.headers=a.headers,u;c.context.returned=u,c.context.returned.headers=a.headers;for(let h of D||[])if(h.matcher(c))try{let E=await h.handler(c);E&&"response"in E&&(c.context.returned=E.response)}catch(E){if(E instanceof P.APIError){c.context.returned=E;continue}throw E}if(c.context.returned instanceof P.APIError)throw c.context.returned.headers=a.headers,c.context.returned;return c.context.returned}throw u}c.context.returned=$,c.responseHeader=a.headers;for(let u of D)if(u.matcher(c))try{let U=await u.handler(c);if(U)if("responseHeader"in U){let E=U.responseHeader;c.responseHeader=E}else c.context.returned=U}catch(U){if(U instanceof P.APIError){c.context.returned=U;continue}throw U}let N=c.context.returned;if(N instanceof Response&&a.headers.forEach((u,h)=>{h==="set-cookie"?N.headers.append(h,u):N.headers.set(h,u)}),N instanceof P.APIError)throw N.headers=a.headers,N;return N},A[K].path=a.path,A[K].method=a.method,A[K].options=a.options,A[K].headers=a.headers;return{api:A,middlewares:t}}s(Bo,"getEndpoints");var co={};function ci(o){switch(o.constructor.name){case"ZodString":return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array";default:return"string"}}s(ci,"getTypeFromZodType");function yo(o){let e=[];return o.metadata?.openapi?.parameters?(e.push(...o.metadata.openapi.parameters),e):(o.query instanceof z.ZodObject&&Object.entries(o.query.shape).forEach(([i,t])=>{t instanceof z.ZodSchema&&e.push({name:i,in:"query",schema:{type:ci(t),..."minLength"in t&&t.minLength?{minLength:t.minLength}:{},description:t.description}})}),e)}s(yo,"getParameters");function di(o){if(o.metadata?.openapi?.requestBody)return o.metadata.openapi.requestBody;if(o.body&&(o.body instanceof z.ZodObject||o.body instanceof z.ZodOptional)){let e=o.body.shape;if(!e)return;let i={},t=[];return Object.entries(e).forEach(([r,n])=>{n instanceof z.ZodSchema&&(i[r]={type:ci(n),description:n.description},n instanceof z.ZodOptional||t.push(r))}),{required:o.body instanceof z.ZodOptional?!1:!!o.body,content:{"application/json":{schema:{type:"object",properties:i,required:t}}}}}}s(di,"getRequestBody");function wo(o){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...o}}s(wo,"getResponse");async function Fo(o,e){let i=Bo(o,{...e,plugins:[]}),t=oo(e),n={schemas:{...Object.entries(t).reduce((K,[a,d])=>{let g=a.charAt(0).toUpperCase()+a.slice(1);return K[g]={type:"object",properties:Object.entries(d.fields).reduce((f,[l,c])=>(f[l]={type:c.type},f),{})},K},{})}};Object.entries(i.api).forEach(([K,a])=>{let d=a.options;if(!d.metadata?.SERVER_ONLY&&(d.method==="GET"&&(co[a.path]={get:{tags:["Default",...d.metadata?.openapi?.tags||[]],description:d.metadata?.openapi?.description,operationId:d.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:yo(d),responses:wo(d.metadata?.openapi?.responses)}}),d.method==="POST")){let g=di(d);co[a.path]={post:{tags:["Default",...d.metadata?.openapi?.tags||[]],description:d.metadata?.openapi?.description,operationId:d.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:yo(d),...g?{requestBody:g}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:wo(d.metadata?.openapi?.responses)}}}});for(let K of e.plugins||[]){if(K.id==="open-api")continue;let a=Bo(o,{...e,plugins:[K]}),d=Object.keys(a.api).map(g=>i.api[g]===void 0?a.api[g]:null).filter(g=>g!==null);Object.entries(d).forEach(([g,f])=>{let l=f.options;l.metadata?.SERVER_ONLY||(l.method==="GET"&&(co[f.path]={get:{tags:l.metadata?.openapi?.tags||[K.id.charAt(0).toUpperCase()+K.id.slice(1)],description:l.metadata?.openapi?.description,operationId:l.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:yo(l),responses:wo(l.metadata?.openapi?.responses)}}),l.method==="POST"&&(co[f.path]={post:{tags:l.metadata?.openapi?.tags||[K.id.charAt(0).toUpperCase()+K.id.slice(1)],description:l.metadata?.openapi?.description,operationId:l.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:yo(l),requestBody:di(l),responses:wo(l.metadata?.openapi?.responses)}}))})}return{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance"},components:n,security:[{apiKeyCookie:[]}],servers:[{url:o.baseURL}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:co}}s(Fo,"generator");var gi=`<svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect width="75" height="75" fill="url(#pattern0_21_12)"/>
<defs>
<pattern id="pattern0_21_12" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_21_12" transform="scale(0.00094697)"/>
</pattern>
<image id="image0_21_12" width="1056" height="1056" xlink:href="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBARXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAEIKADAAQAAAABAAAEIAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/+ICKElDQ19QUk9GSUxFAAEBAAACGGFwcGwEAAAAbW50clJHQiBYWVogB+YAAQABAAAAAAAAYWNzcEFQUEwAAAAAQVBQTAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1hcHBs7P2jjjiFR8NttL1PetoYLwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKZGVzYwAAAPwAAAAwY3BydAAAASwAAABQd3RwdAAAAXwAAAAUclhZWgAAAZAAAAAUZ1hZWgAAAaQAAAAUYlhZWgAAAbgAAAAUclRSQwAAAcwAAAAgY2hhZAAAAewAAAAsYlRSQwAAAcwAAAAgZ1RSQwAAAcwAAAAgbWx1YwAAAAAAAAABAAAADGVuVVMAAAAUAAAAHABEAGkAcwBwAGwAYQB5ACAAUAAzbWx1YwAAAAAAAAABAAAADGVuVVMAAAA0AAAAHABDAG8AcAB5AHIAaQBnAGgAdAAgAEEAcABwAGwAZQAgAEkAbgBjAC4ALAAgADIAMAAyADJYWVogAAAAAAAA9tUAAQAAAADTLFhZWiAAAAAAAACD3wAAPb////+7WFlaIAAAAAAAAEq/AACxNwAACrlYWVogAAAAAAAAKDgAABELAADIuXBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbc2YzMgAAAAAAAQxCAAAF3v//8yYAAAeTAAD9kP//+6L///2jAAAD3AAAwG7/wAARCAQgBCADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwACAgICAgIDAgIDBAMDAwQFBAQEBAUHBQUFBQUHCAcHBwcHBwgICAgICAgICgoKCgoKCwsLCwsNDQ0NDQ0NDQ0N/9sAQwECAgIDAwMGAwMGDQkHCQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0N/90ABABC/9oADAMBAAIRAxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Q/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9L9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//T/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//W/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//R/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//U/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9b9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9H9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9T9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//V/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Ln/gq38a/in8Dvgp4T8R/CfxFdeG9SvvFMdlcXFoELyW5srqQxnzEcY3op4Gciv1Gr8Z/+C2X/JvXgj/sc4v/AE33lAH4z/8ADwv9tD/oq2tf9823/wAZo/4eF/tof9FW1r/vm2/+M18Z0UAfZn/Dwv8AbQ/6KtrX/fNt/wDGaP8Ah4X+2h/0VbWv++bb/wCM18Z0UAfZn/Dwv9tD/oq2tf8AfNt/8Zo/4eF/tof9FW1r/vm2/wDjNfGdFAH2Z/w8L/bQ/wCira1/3zbf/GaP+Hhf7aH/AEVbWv8Avm2/+M18Z0UAfZn/AA8L/bQ/6KtrX/fNt/8AGaP+Hhf7aH/RVta/75tv/jNfGdFAH2Z/w8L/AG0P+ira1/3zbf8Axmj/AIeF/tof9FW1r/vm2/8AjNfGdFAH63/sVftq/tTfEb9qb4deCfG3xF1TVtD1bVGgvbKdYBHPGIJW2ttiVsblB4I6V/UbX8Z//BPT/k9D4U/9hpv/AEmmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+M/wD4eF/tof8ARVta/wC+bb/4zR/w8L/bQ/6KtrX/AHzbf/Ga+M6KAPsz/h4X+2h/0VbWv++bb/4zR/w8L/bQ/wCira1/3zbf/Ga+M6KAPsz/AIeF/tof9FW1r/vm2/8AjNH/AA8L/bQ/6KtrX/fNt/8AGa+M6KAPsz/h4X+2h/0VbWv++bb/AOM0f8PC/wBtD/oq2tf9823/AMZr4zooA+zP+Hhf7aH/AEVbWv8Avm2/+M0f8PC/20P+ira1/wB823/xmvjOigD7M/4eF/tof9FW1r/vm2/+M0f8PC/20P8Aoq2tf9823/xmvjOigD7M/wCHhf7aH/RVta/75tv/AIzR/wAPC/20P+ira1/3zbf/ABmvjOigD7M/4eF/tof9FW1r/vm2/wDjNH/Dwv8AbQ/6KtrX/fNt/wDGa+M6KAPsz/h4X+2h/wBFW1r/AL5tv/jNH/Dwv9tD/oq2tf8AfNt/8Zr4zooA+zP+Hhf7aH/RVta/75tv/jNH/Dwv9tD/AKKtrX/fNt/8Zr4zooA+zP8Ah4X+2h/0VbWv++bb/wCM0f8ADwv9tD/oq2tf9823/wAZr4zooA+zP+Hhf7aH/RVta/75tv8A4zR/w8L/AG0P+ira1/3zbf8AxmvjOigD7M/4eF/tof8ARVta/wC+bb/4zR/w8L/bQ/6KtrX/AHzbf/Ga+M6KAP6tv+CUnxr+Kfxx+CnizxH8WPEV14k1Kx8UyWVvcXYQPHbiytZBGPLRBje7HkZya/Uavxn/AOCJv/JvXjf/ALHOX/032dfsxQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf//X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKAPsz/gnp/yeh8Kf+w03/pNNX9mFfxn/APBPT/k9D4U/9hpv/Saav7MKACiiigAooooAKKKKACiiigAooooAKKKKAP4A6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKAPsz/gnp/yeh8Kf+w03/pNNX9mFfwq/BT4r638Dvin4d+LHhy0tb7UvDd0bu3t70ObeRzG0eJBGyPjDnowOa/Ub/h9l+0L/ANCR4M/79ah/8m0Af0yUV/M3/wAPsv2hf+hI8Gf9+tQ/+TaP+H2X7Qv/AEJHgz/v1qH/AMm0Af0yUV/M3/w+y/aF/wChI8Gf9+tQ/wDk2j/h9l+0L/0JHgz/AL9ah/8AJtAH9MlFfzN/8Psv2hf+hI8Gf9+tQ/8Ak2j/AIfZftC/9CR4M/79ah/8m0Af0yUV/M3/AMPsv2hf+hI8Gf8AfrUP/k2j/h9l+0L/ANCR4M/79ah/8m0Af0yUV/M3/wAPsv2hf+hI8Gf9+tQ/+TaP+H2X7Qv/AEJHgz/v1qH/AMm0Af0yUV/M3/w+y/aF/wChI8Gf9+tQ/wDk2j/h9l+0L/0JHgz/AL9ah/8AJtAH4z0V/TJ/w5N/Z6/6Hfxn/wB/dP8A/kKj/hyb+z1/0O/jP/v7p/8A8hUAfzN0V/TJ/wAOTf2ev+h38Z/9/dP/APkKj/hyb+z1/wBDv4z/AO/un/8AyFQB/M3RX9Mn/Dk39nr/AKHfxn/390//AOQqP+HJv7PX/Q7+M/8Av7p//wAhUAfzN0V/TJ/w5N/Z6/6Hfxn/AN/dP/8AkKj/AIcm/s9f9Dv4z/7+6f8A/IVAH8zdFf0yf8OTf2ev+h38Z/8Af3T/AP5Co/4cm/s9f9Dv4z/7+6f/APIVAH8zdFf0yf8ADk39nr/od/Gf/f3T/wD5Co/4cm/s9f8AQ7+M/wDv7p//AMhUAfzN0V/TJ/w5N/Z6/wCh38Z/9/dP/wDkKvwV/ag+FGifA74++M/hP4cu7q+03w3fi0t7i9KG4kQxRyZkMaomcueigYoA8FooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/AOxzl/8ATfZ1+zFfjP8A8ETf+TevG/8A2Ocv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/v8ooooAKKKKACiiigAooooAKKKKACiiigAr+M//goX/wAnofFb/sNL/wCk0Nf2YV/Gf/wUL/5PQ+K3/YaX/wBJoaAPjOiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/W/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP7/KKKKACiiigAooooAKKKKACiiigAooooAK/jP/4KF/8AJ6HxW/7DS/8ApNDX9mFfxn/8FC/+T0Pit/2Gl/8ASaGgD4zooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+/yiiigAooooAKKKKACiiigAooooAKKKKACv4z/+Chf/ACeh8Vv+w0v/AKTQ1/ZhX8Z//BQv/k9D4rf9hpf/AEmhoA+M6KKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/v8ooooAKKKKACiiigAooooAKKKKACiiigAr+M//goX/wAnofFb/sNL/wCk0Nf2YV/Gf/wUL/5PQ+K3/YaX/wBJoaAPjOiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/R/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP7/KKKKACiiigAooooAKKKKACiiigAooooAK/jP/4KF/8AJ6HxW/7DS/8ApNDX9mFfxn/8FC/+T0Pit/2Gl/8ASaGgD4zooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+/yiiigAooooAKKKKACiiigAooooAKKKKACv4z/+Chf/ACeh8Vv+w0v/AKTQ1/ZhX8Z//BQv/k9D4rf9hpf/AEmhoA+M6KKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD1L4KfCjW/jj8U/Dvwn8OXdrY6l4kujaW9xelxbxuI2kzIY1d8YQ9FJzX6jf8OTf2hf8Aod/Bn/f3UP8A5Cr4z/4J6f8AJ6Hwp/7DTf8ApNNX9mFAH8zf/Dk39oX/AKHfwZ/391D/AOQqP+HJv7Qv/Q7+DP8Av7qH/wAhV/TJRQB/M3/w5N/aF/6HfwZ/391D/wCQqP8Ahyb+0L/0O/gz/v7qH/yFX9MlFAH8zf8Aw5N/aF/6HfwZ/wB/dQ/+QqP+HJv7Qv8A0O/gz/v7qH/yFX9MlFAH8zf/AA5N/aF/6HfwZ/391D/5Co/4cm/tC/8AQ7+DP+/uof8AyFX9MlFAH8zf/Dk39oX/AKHfwZ/391D/AOQqP+HJv7Qv/Q7+DP8Av7qH/wAhV/TJRQB/M3/w5N/aF/6HfwZ/391D/wCQqP8Ahyb+0L/0O/gz/v7qH/yFX9MlFAH4z/8AD7L9nr/oSPGf/frT/wD5No/4fZfs9f8AQkeM/wDv1p//AMm1/M3RQB/TJ/w+y/Z6/wChI8Z/9+tP/wDk2j/h9l+z1/0JHjP/AL9af/8AJtfzN0UAf0yf8Psv2ev+hI8Z/wDfrT//AJNo/wCH2X7PX/QkeM/+/Wn/APybX8zdFAH9Mn/D7L9nr/oSPGf/AH60/wD+TaP+H2X7PX/QkeM/+/Wn/wDybX8zdFAH9Mn/AA+y/Z6/6Ejxn/360/8A+TaP+H2X7PX/AEJHjP8A79af/wDJtfzN0UAf0yf8Psv2ev8AoSPGf/frT/8A5No/4fZfs9f9CR4z/wC/Wn//ACbX8zdFAH9Mn/D7L9nr/oSPGf8A360//wCTa/BX9qD4r6J8cfj74z+LHhy0urHTfEl+Lu3t70ILiNBFHHiQRs6Zyh6MRivBaKACiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/ACb143/7HOX/ANN9nX7MV+M//BE3/k3rxv8A9jnL/wCm+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//U/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKAPsz/gnp/yeh8Kf+w03/pNNX9mFfxn/APBPT/k9D4U/9hpv/Saav7MKACiiigAooooAKKKKACiiigAooooAKKKKAP4A6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+XP/BVv4KfFP44/BTwn4c+E/h268SalY+KY724t7QoHjtxZXUZkPmOgxvdRwc5NAH8pNFfZn/DvT9tD/olOtf99W3/AMeo/wCHen7aH/RKda/76tv/AI9QB8Z0V9mf8O9P20P+iU61/wB9W3/x6j/h3p+2h/0SnWv++rb/AOPUAfGdFfZn/DvT9tD/AKJTrX/fVt/8eo/4d6ftof8ARKda/wC+rb/49QB8Z0V9mf8ADvT9tD/olOtf99W3/wAeo/4d6ftof9Ep1r/vq2/+PUAfGdFfZn/DvT9tD/olOtf99W3/AMeo/wCHen7aH/RKda/76tv/AI9QB8Z0V9mf8O9P20P+iU61/wB9W3/x6j/h3p+2h/0SnWv++rb/AOPUAH/BPT/k9D4U/wDYab/0mmr+zCv5cv2Kv2Kv2pvhz+1N8OvG3jb4dappOh6TqjT3t7O0BjgjMEq7m2ys2NzAcA9a/qNoAKKKKACiiigAooooAKKKKACiiigAooooA/gDor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD4zor7M/4d6ftof9Ep1r/vq2/wDj1H/DvT9tD/olOtf99W3/AMeoA+M6K+zP+Hen7aH/AESnWv8Avq2/+PUf8O9P20P+iU61/wB9W3/x6gD4zor7M/4d6ftof9Ep1r/vq2/+PUf8O9P20P8AolOtf99W3/x6gD4zor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD4zor7M/4d6ftof9Ep1r/vq2/wDj1H/DvT9tD/olOtf99W3/AMeoA+M6K+zP+Hen7aH/AESnWv8Avq2/+PUf8O9P20P+iU61/wB9W3/x6gD4zor7M/4d6ftof9Ep1r/vq2/+PUf8O9P20P8AolOtf99W3/x6gD4zor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD4zor7M/4d6ftof9Ep1r/vq2/wDj1H/DvT9tD/olOtf99W3/AMeoA+M6K+zP+Hen7aH/AESnWv8Avq2/+PUf8O9P20P+iU61/wB9W3/x6gD4zor7M/4d6ftof9Ep1r/vq2/+PUf8O9P20P8AolOtf99W3/x6gD4zor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD9mP+CJv/JvXjf8A7HOX/wBN9nX7MV+XP/BKT4KfFP4HfBTxZ4c+LHh268N6lfeKZL23t7soXktzZWsYkHlu4xvRhyc5FfqNQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/9L9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//T/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//W/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//R/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//U/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9b9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9H9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9T9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//V/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9f9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Q/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q=="/>
</defs>
</svg>
`;var $i=s(o=>`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(o)}
    </script>
	 <script>
      var configuration = {
	  	favicon: "data:image/svg+xml;utf8,${encodeURIComponent(gi)}",
	   	theme: "saturn",
        metaData: {
			title: "Better Auth API",
			description: "API Reference for your Better Auth Instance",
		}
      }

      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`,"getHTML"),Zi=s(o=>{let e=o?.path??"/reference";return{id:"open-api",endpoints:{generateOpenAPISchema:C("/open-api/generate-schema",{method:"GET"},async i=>{let t=await Fo(i.context,i.context.options);return i.json(t)}),openAPIReference:C(e,{method:"GET",metadata:{isAction:!1}},async i=>{if(o?.disableDefaultReference)throw new Ko.APIError("NOT_FOUND");let t=await Fo(i.context,i.context.options);return new Response($i(t),{headers:{"Content-Type":"text/html"}})})}}},"openAPI");0&&(module.exports={openAPI});
